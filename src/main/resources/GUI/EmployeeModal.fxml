<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Line?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="600.0" prefWidth="950.0" styleClass="white-bg" stylesheets="@../css/base.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="GUI.EmployeeModalController">
   <children>
      <BorderPane style="-fx-border-color: #30bac4; -fx-border-width: 2px;" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
         <top>
            <AnchorPane prefHeight="60.0" BorderPane.alignment="CENTER">
               <children>
                  <Label fx:id="modalName" alignment="CENTER" prefHeight="40.0" text="QUẢN LÝ NHÂN VIÊN CHI TIẾT" textFill="#30bac4" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="10.0">
                     <font><Font name="Arial Bold" size="24.0" /></font>
                  </Label>
               </children>
            </AnchorPane>
         </top>

         <center>
            <TabPane fx:id="tabPaneEmployee" tabClosingPolicy="UNAVAILABLE" BorderPane.alignment="CENTER">
              <tabs>
                <Tab fx:id="tabPersonal" text="Thông tin cá nhân">
                  <content>
                    <VBox prefHeight="500.0" spacing="15.0">
                       <padding><Insets bottom="10.0" left="35.0" right="35.0" top="20.0" /></padding>
                       <children>
                          <HBox alignment="CENTER_LEFT" spacing="10.0">
                             <children>
                                <FontAwesomeIcon fill="#1f7d84" glyphName="USER" size="1.5em" />
                                <Label text="THÔNG TIN CƠ BẢN" textFill="#1f7d84"><font><Font name="System Bold" size="16.0" /></font></Label>
                             </children>
                          </HBox>
                          <Line endX="880.0" stroke="#eee" strokeWidth="2.0" />
                          <GridPane hgap="25.0" vgap="12.0">
                            <columnConstraints>
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                            </columnConstraints>
                            <children>
                                <VBox spacing="5.0"><Label styleClass="label-s" text="Mã nhân viên" textFill="#30bac4" /><TextField fx:id="txtEmployeeId" editable="false" prefHeight="35.0" styleClass="textfield-1, readonly" /></VBox>
                                <HBox spacing="10.0" GridPane.rowIndex="1">
                                   <VBox spacing="5.0" HBox.hgrow="ALWAYS"><Label styleClass="label-s" text="Họ đệm" textFill="#30bac4" /><TextField fx:id="txtFirstName" prefHeight="35.0" styleClass="textfield-1" /></VBox>
                                   <VBox prefWidth="130.0" spacing="5.0"><Label styleClass="label-s" text="Tên" textFill="#30bac4" /><TextField fx:id="txtLastName" prefHeight="35.0" styleClass="textfield-1" /></VBox>
                                </HBox>
                                <HBox spacing="10.0" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                   <VBox prefHeight="58.0" prefWidth="220.0" spacing="5.0" HBox.hgrow="ALWAYS"><Label styleClass="label-s" text="Ngày sinh" textFill="#30bac4" /><DatePicker fx:id="dpDateOfBirth" prefHeight="35.0" prefWidth="400.0" /></VBox>
                                   <VBox prefWidth="170.0" spacing="5.0"><Label styleClass="label-s" text="Giới tính" textFill="#30bac4" /><ComboBox fx:id="cbGender" prefHeight="35.0" prefWidth="170.0" /></VBox>
                                </HBox>
                                <VBox spacing="5.0" GridPane.rowIndex="2"><Label styleClass="label-s" text="Số điện thoại" textFill="#30bac4" /><TextField fx:id="txtPhone" prefHeight="35.0" styleClass="textfield-1" /></VBox>
                                <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="2"><Label styleClass="label-s" text="Email liên hệ" textFill="#30bac4" /><TextField fx:id="txtEmail" prefHeight="35.0" styleClass="textfield-1" /></VBox>
                            </children>
                                 <rowConstraints>
                                    <RowConstraints />
                                    <RowConstraints />
                                    <RowConstraints />
                                 </rowConstraints>
                          </GridPane>
                          <Region prefHeight="75.0" prefWidth="882.0" VBox.vgrow="ALWAYS" />
                          <HBox alignment="CENTER_RIGHT" minHeight="50.0">
                             <Button fx:id="savePersonalBtn" prefHeight="40.0" prefWidth="120.0" styleClass="action-btn" text="LƯU"><graphic><FontAwesomeIcon fill="WHITE" glyphName="SAVE" size="1.2em" /></graphic></Button>
                          </HBox>
                       </children>
                    </VBox>
                  </content>
                </Tab>

                <Tab fx:id="tabJob" text="Đơn vị công tác">
                  <content>
                    <VBox prefHeight="500.0" spacing="15.0">
                       <padding><Insets bottom="10.0" left="35.0" right="35.0" top="20.0" /></padding>
                       <children>
                          <HBox alignment="CENTER_LEFT" spacing="10.0">
                             <children>
                                <FontAwesomeIcon fill="#1f7d84" glyphName="SITEMAP" size="1.5em" />
                                <Label text="VỊ TRÍ HIỆN TẠI" textFill="#1f7d84"><font><Font name="System Bold" size="16.0" /></font></Label>
                             </children>
                          </HBox>
                          <Line endX="880.0" stroke="#eee" strokeWidth="2.0" />
                          <GridPane hgap="25.0" maxWidth="400.0" prefWidth="400.0" vgap="12.0">
                             <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" prefWidth="100.0" /><ColumnConstraints hgrow="SOMETIMES" prefWidth="100.0" />
                             </columnConstraints>
                             <children>
                                <VBox maxWidth="200.0" prefWidth="200.0" spacing="5.0"><Label styleClass="label-s" text="Phòng ban làm việc" textFill="#30bac4" /><ComboBox fx:id="cbDepartment" prefHeight="38.0" prefWidth="430.0" /></VBox>
                                <VBox maxWidth="200.0" prefWidth="200.0" spacing="5.0" GridPane.columnIndex="1"><Label styleClass="label-s" text="Trạng thái làm việc" textFill="#30bac4" /><ComboBox fx:id="cbStatus" prefHeight="38.0" prefWidth="430.0" /></VBox>
                             </children>
                                 <rowConstraints>
                                    <RowConstraints />
                                 </rowConstraints>
                          </GridPane>
                          <HBox alignment="CENTER_LEFT" spacing="10.0">
                             <children>
                                <FontAwesomeIcon fill="#1f7d84" glyphName="HISTORY" size="1.5em" />
                                <Label text="LỊCH SỬ ĐIỀU CHUYỂN" textFill="#1f7d84"><font><Font name="System Bold" size="16.0" /></font></Label>
                             </children>
                             <VBox.margin><Insets top="10.0" /></VBox.margin>
                          </HBox>
                          <Line endX="880.0" stroke="#eee" strokeWidth="2.0" />
                          <TableView fx:id="tblJobHistory" prefHeight="165.0" prefWidth="882.0" styleClass="table-view">
                            <columns>
                              <TableColumn fx:id="colHistoryDate" prefWidth="160.0" text="Ngày thay đổi" />
                              <TableColumn fx:id="colHistoryDept" prefWidth="250.0" text="Phòng ban" />
                              <TableColumn fx:id="colHistoryRole" prefWidth="220.0" text="Chức vụ" />
                              <TableColumn fx:id="colHistoryNote" prefWidth="255.0" text="Ghi chú" />
                            </columns>
                          </TableView>
                          <Region VBox.vgrow="ALWAYS" />
                          <HBox alignment="CENTER_RIGHT" minHeight="50.0">
                             <Button fx:id="saveJobBtn" prefHeight="40.0" prefWidth="120.0" styleClass="action-btn" text="LƯU"><graphic><FontAwesomeIcon fill="WHITE" glyphName="SAVE" size="1.2em" /></graphic></Button>
                          </HBox>
                       </children>
                    </VBox>
                  </content>
                </Tab>

                <Tab fx:id="tabPayroll" text="Bảo hiểm &amp; Thu nhập">
                  <content>
                    <VBox prefHeight="500.0" spacing="15.0">
                       <padding><Insets bottom="10.0" left="35.0" right="35.0" top="20.0" /></padding>
                       <children>
                          <HBox alignment="CENTER_LEFT" spacing="10.0">
                             <children>
                                <FontAwesomeIcon fill="#1f7d84" glyphName="MONEY" size="1.5em" />
                                <Label text="ĐỊNH MỨC THU NHẬP" textFill="#1f7d84"><font><Font name="System Bold" size="16.0" /></font></Label>
                             </children>
                          </HBox>
                          <Line endX="880.0" stroke="#eee" strokeWidth="2.0" />
                          <GridPane hgap="20.0" vgap="12.0">
                                <columnConstraints>
                                    <ColumnConstraints hgrow="SOMETIMES" maxWidth="294.4" minWidth="10.0" prefWidth="220.80003967285154" />
                                    <ColumnConstraints hgrow="SOMETIMES" maxWidth="328.20001220703125" minWidth="10.0" prefWidth="321.0" />
                                    <ColumnConstraints hgrow="SOMETIMES" maxWidth="196.79997558593743" minWidth="10.0" prefWidth="120.80000000000007" />
                                    <ColumnConstraints hgrow="SOMETIMES" maxWidth="206.199951171875" minWidth="10.0" prefWidth="149.4000244140625" />
                                </columnConstraints>
                                <children>
                                    <VBox maxWidth="250.0" prefWidth="250.0" spacing="5.0" GridPane.columnIndex="0">
                                        <children>
                                            <Label styleClass="label-s" text="Chức vụ" textFill="#30bac4" />
                                            <ComboBox fx:id="cbRole" prefHeight="35.0" prefWidth="250.0" promptText="Chọn chức vụ" />
                                        </children>
                                    </VBox>

                                    <VBox spacing="5.0" GridPane.columnIndex="1">
                                        <children>
                                            <Label styleClass="label-s" text="Lương cơ bản ($)" textFill="#30bac4" />
                                            <TextField fx:id="txtBaseSalary" prefHeight="34.0" prefWidth="150.0" styleClass="textfield-1" text="0" />
                                        </children>
                                    </VBox>

                                    <VBox spacing="5.0" GridPane.columnIndex="2">
                                        <children>
                                            <Label styleClass="label-s" text="Hệ số" textFill="#30bac4" />
                                            <TextField fx:id="txtCoefficient" prefHeight="35.0" styleClass="textfield-1" text="1.0" />
                                        </children>
                                    </VBox>

                                    <VBox prefHeight="58.0" prefWidth="240.0" spacing="5.0" GridPane.columnIndex="3">
                                        <children>
                                            <Label styleClass="label-s" text="Phụ thuộc" textFill="#30bac4" />
                                            <TextField fx:id="txtNumDependents" prefHeight="35.0" styleClass="textfield-1" text="0" />
                                        </children>
                                    </VBox>
                                </children>
                                <rowConstraints>
                                    <RowConstraints minHeight="10.0" prefHeight="60.0" vgrow="SOMETIMES" />
                                </rowConstraints>
                            </GridPane>
                          <HBox alignment="CENTER_LEFT" spacing="10.0">
                             <children>
                                <FontAwesomeIcon fill="#1f7d84" glyphName="HEARTBEAT" size="1.5em" />
                                <Label text="CÁC KHOẢN BẢO HIỂM &amp; PHÚC LỢI" textFill="#1f7d84"><font><Font name="System Bold" size="16.0" /></font></Label>
                             </children>
                             <VBox.margin><Insets top="10.0" /></VBox.margin>
                          </HBox>
                          <Line endX="880.0" stroke="#eee" strokeWidth="2.0" />
                          <GridPane hgap="30.0" vgap="12.0">
                             <columnConstraints><ColumnConstraints prefWidth="250.0" /><ColumnConstraints prefWidth="250.0" /><ColumnConstraints prefWidth="250.0" /></columnConstraints>
                             <children>
                                <CheckBox fx:id="cbSocialIns" text="Bảo hiểm xã hội" /><CheckBox fx:id="cbHealthIns" text="Bảo hiểm y tế" GridPane.columnIndex="1" /><CheckBox fx:id="cbUnemploymentIns" text="BH Thất nghiệp" GridPane.columnIndex="2" />
                                <CheckBox fx:id="cbPersonalTax" text="Thuế TN cá nhân" GridPane.rowIndex="1" /><CheckBox fx:id="cbTransportSupport" text="Hỗ trợ đi lại" GridPane.columnIndex="1" GridPane.rowIndex="1" /><CheckBox fx:id="cbAccommodationSupport" text="Hỗ trợ chỗ ở" GridPane.columnIndex="2" GridPane.rowIndex="1" />
                             </children>
                             <padding><Insets left="20.0" /></padding>
                                 <rowConstraints>
                                    <RowConstraints />
                                    <RowConstraints />
                                 </rowConstraints>
                          </GridPane>
                          <Region prefHeight="74.0" prefWidth="882.0" VBox.vgrow="ALWAYS" />
                          <HBox alignment="CENTER_RIGHT" minHeight="50.0">
                             <Button fx:id="savePayrollBtn" prefHeight="40.0" prefWidth="120.0" styleClass="action-btn" text="LƯU"><graphic><FontAwesomeIcon fill="WHITE" glyphName="SAVE" size="1.2em" /></graphic></Button>
                          </HBox>
                       </children>
                    </VBox>
                  </content>
                </Tab>

                <Tab fx:id="tabAccount" text="Tài khoản hệ thống">
                    <content>
                        <VBox prefHeight="500.0" spacing="15.0">
                            <padding><Insets bottom="10.0" left="35.0" right="35.0" top="20.0" /></padding>
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="10.0">
                                    <children>
                                        <FontAwesomeIcon fill="#1f7d84" glyphName="SHIELD" size="1.5em" />
                                        <Label text="TRUY CẬP HỆ THỐNG" textFill="#1f7d84">
                                            <font><Font name="System Bold" size="16.0" /></font>
                                        </Label>
                                    </children>
                                </HBox>
                                <Line endX="880.0" stroke="#eee" strokeWidth="2.0" />

                                <VBox maxWidth="450.0" spacing="12.0">
                                    <children>
                                        <VBox spacing="5.0">
                                            <Label styleClass="label-s" text="Tên đăng nhập" textFill="#30bac4" />
                                            <TextField fx:id="txtUsername" editable="false" prefHeight="35.0" styleClass="textfield-1, readonly" />
                                        </VBox>
                                        <VBox spacing="5.0">
                                            <Label styleClass="label-s" text="Trạng thái tài khoản" textFill="#30bac4" />
                                            <ComboBox fx:id="cbAccountStatus" prefHeight="38.0" prefWidth="450.0" />
                        
                                                <HBox alignment="CENTER_LEFT" spacing="5.0">
                                            <children>
                                                <FontAwesomeIcon fill="#e67e22" glyphName="INFO_CIRCLE" />
                                                <Label text="Mật khẩu mặc định sau khi reset là: 123456" textFill="#e67e22">
                                                    <font>
                                                                <Font name="System Italic" size="13.0" />
                                                                </font>
                                                </Label>
                                            </children>
                                            <VBox.margin>
                                                            <Insets bottom="-10.0" />
                                                        </VBox.margin>
                                        </HBox>
                                        </VBox>
                                        <VBox spacing="8.0">
                                            <Label text="Đăng nhập cuối lúc:" textFill="#7f8c8d" />
                                            <Label fx:id="lblLastLogin" styleClass="label-metadata-date" text="--/--/---- --:--:--" textFill="#2c3e50">
                                                <font><Font name="System Bold" size="14.0" /></font>
                                            </Label>
                                        </VBox>
                                    </children>
                                </VBox>

                                <Region prefHeight="68.0" prefWidth="882.0" VBox.vgrow="ALWAYS" />

                                <HBox alignment="CENTER_RIGHT" minHeight="50.0" spacing="15.0">
                                    <children>
                                        <Button fx:id="btnResetPassword" prefHeight="40.0" prefWidth="180.0" styleClass="action-btn" text="RESET MẬT KHẨU">
                                            <graphic><FontAwesomeIcon fill="WHITE" glyphName="REFRESH" /></graphic>
                                        </Button>
                                        <Button fx:id="saveAccountBtn" prefHeight="40.0" prefWidth="120.0" styleClass="action-btn" text="LƯU">
                                            <graphic><FontAwesomeIcon fill="WHITE" glyphName="SAVE" size="1.2em" /></graphic>
                                        </Button>
                                    </children>
                                </HBox>
                            </children>
                        </VBox>
                    </content>
                </Tab>
              </tabs>
            </TabPane>
         </center>

         <bottom>
            <VBox spacing="5.0">
               <children>
                  <Line endX="945.0" stroke="#eee" strokeWidth="2.0" />
                  <HBox alignment="CENTER_RIGHT" prefHeight="55.0">
                     <padding><Insets bottom="10.0" left="35.0" right="35.0" top="10.0" /></padding>
                     <children>
                        <VBox alignment="CENTER_LEFT" spacing="2.0">
                           <children>
                              <HBox spacing="5.0"><Label styleClass="label-metadata" text="Ngày tạo:" /><Label fx:id="lblCreatedAt" styleClass="label-metadata-date" text="--/--/----" textFill="#7f8c8d" /></HBox>
                              <HBox spacing="5.0"><Label styleClass="label-metadata" text="Cập nhật:" /><Label fx:id="lblUpdatedAt" styleClass="label-metadata-date" text="--/--/----" textFill="#7f8c8d" /></HBox>
                           </children>
                        </VBox>
                        <Region prefHeight="41.0" prefWidth="562.0" HBox.hgrow="ALWAYS" />
                        <Button fx:id="closeBtn" minHeight="40.0" prefHeight="40.0" prefWidth="120.0" styleClass="action-btn" text="ĐÓNG">
                           <graphic><FontAwesomeIcon fill="WHITE" glyphName="TIMES" size="1.2em" /></graphic>
                           <HBox.margin>
                              <Insets right="-5.0" />
                           </HBox.margin>
                        </Button>
                     </children>
                  </HBox>
               </children>
            </VBox>
         </bottom>
      </BorderPane>
   </children>
</AnchorPane>
